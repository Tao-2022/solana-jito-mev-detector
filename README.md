# Solana MEV Detector (Simple)

这是一个简单的命令行工具，用于检测Solana区块链上的MEV（最大可提取价值）攻击，特别是三明治攻击和抢跑攻击。

## 功能

- **交易分析**: 通过Solana RPC，获取指定交易及其周围的交易信息。
- **三明治攻击检测**: 分析交易序列，识别潜在的三明治攻击模式。
- **抢跑攻击检测**: 识别在目标交易之前执行的、具有相似特征的抢跑交易。
- **可扩展**: 代码结构清晰，易于扩展以支持更复杂的MEV攻击检测逻辑。

## 如何构建和运行

### 1. 环境准备

确保你已经安装了 [Rust](https://www.rust-lang.org/tools/install)。

### 2. 克隆并构建项目

```bash
git clone https://github.com/your-username/solana-mev-detector-simple.git
cd solana-mev-detector-simple
cargo build --release
```

### 3. 运行检测器

构建完成后，你可以运行检测器并输入一个Solana交易哈希进行分析。

```bash
./target/release/solana-mev-detector-simple
```

程序会提示你输入一个交易哈希。例如，你可以输入一个已知的抢跑或三明治攻击的交易哈希来测试。

## 工作原理

1.  **输入交易哈希**: 程序接收一个用户输入的Solana交易哈希。
2.  **获取交易信息**: 使用Solana的`getTransaction` RPC方法，获取目标交易的详细信息，包括其所在的区块（slot）。
3.  **获取周围交易**: 获取目标交易所在区块及其前后几个区块的所有交易签名，然后获取这些交易的详细信息。
4.  **排序和分析**: 将获取到的交易按时间戳排序，然后分析目标交易前后的交易序列。
5.  **攻击检测**:
    - **三明治攻击**: 检测是否存在一个攻击者在目标交易前后分别执行了相反的操作（例如，买入和卖出同一代币）。
    - **抢跑攻击**: 检测在目标交易之前极短时间内，是否存在由同一程序执行的类似交易。
6.  **输出结果**: 在控制台输出检测结果，如果检测到攻击，会显示相关交易的链接。

## 未来改进

- **更精确的攻击检测逻辑**: 目前的检测逻辑非常简化。可以引入更复杂的分析，例如解析交易指令数据（`data`字段）来更准确地识别操作类型和目标资产。
- **支持更多DEX**: 扩展支持的DEX列表，以覆盖更广泛的交易场景。
- **性能优化**: 通过异步和并发处理，优化从RPC获取大量交易数据的性能。
- **配置化**: 将RPC端点、检测参数（如时间窗口）等配置化。
- **实时监控**: 增加一个模式，用于实时监控新的区块，并自动分析其中的MEV机会。

## 免责声明

此工具仅用于学习和研究目的，不构成任何投资建议。MEV检测是一个复杂的问题，此工具的检测结果可能不完全准确。
